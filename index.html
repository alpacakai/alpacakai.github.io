<!DOCTYPE html>
<html lang="zh-tw">

<head>
    <base href="https://www.niusnews.com/" />
    <title>2020台灣奶茶節</title>
    <meta charset="utf-8" />
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta http-equiv="Content-Type" content="text/html; charset=UTF8" />
    <link rel="shortcut icon" href="https://www.niusnews.com/favicon.ico" />
    <meta http-equiv='expires' content='-1' />
    <meta http-equiv='pragma' content='no-cache' />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/js/bootstrap.min.js"></script>
    <script defer src="https://assets.niusnews.com/fa.5.10/js/all.min.js"></script>
    <script defer src="https://assets.niusnews.com/fa.5.10/js/v4-shims.min.js"></script>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css">
    <link rel="stylesheet" href="css/v5/meta.css?20200702">
    <style>
    /* Breakpoint XS */
    @media (max-width: 575px)
    {
        .hidden-xs-down, .hidden-sm-down, .hidden-md-down, .hidden-lg-down, .hidden-xl-down,
        .hidden-xs-up,
        .hidden-unless-sm, .hidden-unless-md, .hidden-unless-lg, .hidden-unless-xl
        {
            display: none !important;
        }

    }

    /* Breakpoint SM */
    @media (min-width: 576px) and (max-width: 767px)
    {
        .hidden-sm-down, .hidden-md-down, .hidden-lg-down, .hidden-xl-down,
        .hidden-xs-up, .hidden-sm-up,
        .hidden-unless-xs, .hidden-unless-md, .hidden-unless-lg, .hidden-unless-xl
        {
            display: none !important;
        }
    }

    /* Breakpoint MD */
    @media (min-width: 768px) and (max-width: 991px)
    {
        .hidden-md-down, .hidden-lg-down, .hidden-xl-down,
        .hidden-xs-up, .hidden-sm-up, .hidden-md-up,
        .hidden-unless-xs, .hidden-unless-sm, .hidden-unless-lg, .hidden-unless-xl
        {
            display: none !important;
        }
    }

    /* Breakpoint LG */
    @media (min-width: 992px) and (max-width: 1199px)
    {
        .hidden-lg-down, .hidden-xl-down,
        .hidden-xs-up, .hidden-sm-up, .hidden-md-up, .hidden-lg-up,
        .hidden-unless-xs, .hidden-unless-sm, .hidden-unless-md, .hidden-unless-xl
        {
            display: none !important;
        }
    }

    /* Breakpoint XL */
    @media (min-width: 1200px)
    {
        .hidden-xl-down,
        .hidden-xs-up, .hidden-sm-up, .hidden-md-up, .hidden-lg-up, .hidden-xl-up,
        .hidden-unless-xs, .hidden-unless-sm, .hidden-unless-md, .hidden-unless-lg
        {
            display: none !important;
        }
    }

    :root {
      --color-8-e-755-a: #8e755a;
      --color-d-4-b-391: #d4b391;
      --color-e-19-c-83: #e19c83;
      --color-f-8-f-2-e-5: #f8f2e5;
      --grey-494949: #494949;
      --grey-7-c-7-c-7-c: #7c7c7c;
      --grey-cecece: #cecece;
      --m-black-txt: #494949;
      --m-rubrum-txt: #ff2e00;
      --m-album: #ffffff;
    }

    .h4 {
      font-family: PingFangSC;
      font-size: 48px;
      font-weight: 600;
      font-stretch: normal;
      font-style: normal;
      line-height: normal;
      letter-spacing: 9.6px;
    }

    body {
      background-color: #FFF;
      color: #494949;
      margin: 0px;
      padding: 0px;
    }

    *:focus {
      outline: none !important;
    }

    .input-code{
      margin-top:22px;
      width:100%;
      height:45px;
      line-height:45px;
      color:#7C7C7C;
      text-align:center;

      background: #FFFFFF;
      border: 1px solid #CECECE;
      box-sizing: border-box;
      border-radius: 40px;
    }

    .button-enter{
      outline:0;
      width:100%;
      height:45px;
      line-height:45px;
      background: #D4B391;
      border-radius: 40px;
      color:#fff;
      text-align:center;
      border:0px;
      outline: none !important;
    }

    </style>
<!-- 
    <script>
    var isBusy = false;

    jQuery.fn.center = function() {
        this.css("position", "absolute");
        this.css("top", ($(window).height() - this.outerHeight()) / 2 + $(window).scrollTop() + "px");
        this.css("left", ($(window).width() - this.outerWidth()) / 2 + $(window).scrollLeft() + "px");
        return this;
    }
    jQuery.fn.randomize = function(selector) {
        (selector ? this.find(selector) : this).parent().each(function() {
            $(this).children(selector).sort(function() {
                return Math.random() - 0.5;
            }).detach().appendTo(this);
        });

        return this;
    }
    </script>
 -->
</head>

<body>
    <img src="https://assets.niusnews.com/event_2020/milktea/mi/top.png" width=100%>
    <div class="container">
      <div class="row">
        <div class="col-12">
          <div class="h4 text-center">奶茶迷專區</div>
          <input id="email" class="input-code" name="" placeholder="電子信箱">

          <input id="password" type="password" class="input-code" name="" placeholder="密碼">
          <div class="col text-right py-2 f-14">
            <a href="https://www.niusnews.com/milktea2020/mi">忘記密碼？</a>
          </div>

          <input type="password" class="input-code" name="" placeholder="請輸入您的奶茶迷兌換密碼">
          <div class="col text-right py-2 f-14">
              <a href="https://www.niusnews.com/milktea2020/reset_redeem_password">忘記兌換密碼？</a>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col-12">
          <button class="button-enter">進入專區</button>
        </div>
      </div>
      <div class="row" style="height:80px;line-height:80px;">
        <div class="col-12 text-center f-14">
          <a href="/milktea2020"> < 奶茶迷官網</a>
        </div>
      </div>
    </div>

    <script>
    var isBusy=false;
    function doLogin() {
      console.log('doLogin');
        if (!$('#email').val()) {
            alert("請輸入電子信箱");
            return;
        }
        if (!$('#password').val()) {
            alert("請輸入密碼");
            return;
        }
        if (!$('#code').val()) {
            alert("請輸入奶茶迷兌換密碼");
            return;
        }

        if (isBusy) return;
        isBusy = true;

      console.log('logining...');
      //進行登入
      var dummy = new iframeform('https://www.niusnews.com/index.php/api/doLogin');
      dummy.addParameter('email',$('#email').val());
      dummy.addParameter('pwd',$('#password').val());
      dummy.send();

      console.log('兌換密碼');
      dummy = new iframeform('https://www.niusnews.com/milktea2020/mi/doLogin');
      dummy.addParameter('password',$('#code').val());
      dummy.send();

      console.log('done...');
      location.href="https://www.niusnews.com/milktea2020/mi/main"

      console.log('end');
      isBusy = false;
    }


    function iframeform(url) {
        var object = this;
        object.time = new Date().getTime();
        object.form = $('<form action="'+url+'" style="display:none;" target="iframe'+object.time+'" method="post" id="form'+object.time+'"></form>');
        
        object.addParameter = function(parameter,value) {
            $("<input />")
             .attr("name", parameter)
             .attr("value", value)
             .appendTo(object.form);
        }

        object.send = function() {
            var iframe = $('<iframe src="https://www.niusnews.com/milktea2020" style="display:none;" name="iframe'+object.time+'"></iframe>');
            $( "body" ).append(iframe); 
            $( "body" ).append(object.form);
            object.form.submit();
            iframe.on('load',function(){
              $('#form'+$(this).data('time')).remove();
              $(this).remove();
            });
        }
    }
    </script>
</body>

</html>
