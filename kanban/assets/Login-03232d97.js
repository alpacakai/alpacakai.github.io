import{l as x}from"./logo-1eb6e2e9.js";import{r as g,u as L,a,o as w,c as v,w as l,b as e,d as b,e as k,f as K,t as C,s as c,n as P,g as N,h as R}from"./index-4acee792.js";const y={__name:"LoginCard",props:{isLogin:{type:Boolean}},setup(r){const p=r,u=g(!1),o=g({email:"",password:"",confirmPassword:"",remember:!1}),i=L(),m=async()=>{u.value=!0,p.isLogin?await c().user.checkLogin(o.value)&&(console.log("login: "+o.value),i.push({name:"Kanban"})):await c().user.userRegister(o.value)&&await c().user.checkLogin(o.value)&&i.push({name:"Kanban"}),P(()=>u.value=!1)};return(_,n)=>{const d=a("el-input"),t=a("el-form-item"),f=a("el-button"),V=a("el-form"),h=a("el-card");return w(),v(h,null,{default:l(()=>[e(V,{model:o.value,"label-position":"top"},{default:l(()=>[e(t,{label:"Account(Email)"},{default:l(()=>[e(d,{modelValue:o.value.email,"onUpdate:modelValue":n[0]||(n[0]=s=>o.value.email=s)},null,8,["modelValue"])]),_:1}),e(t,{label:"Password"},{default:l(()=>[e(d,{modelValue:o.value.password,"onUpdate:modelValue":n[1]||(n[1]=s=>o.value.password=s),type:"password","show-password":"",onKeyup:n[2]||(n[2]=b(s=>r.isLogin?m():null,["enter"]))},null,8,["modelValue"])]),_:1}),r.isLogin?k("",!0):(w(),v(t,{key:0,label:"Confirm Password"},{default:l(()=>[e(d,{modelValue:o.value.confirmPassword,"onUpdate:modelValue":n[3]||(n[3]=s=>o.value.confirmPassword=s),type:"password","show-password":"",onKeyup:b(m,["enter"])},null,8,["modelValue","onKeyup"])]),_:1})),e(t,{style:{"margin-top":"2rem"}},{default:l(()=>[e(f,{type:"primary",onClick:m,style:{width:"100%"},loading:u.value},{default:l(()=>[K(C(r.isLogin?"Login":"Register"),1)]),_:1},8,["loading"])]),_:1})]),_:1},8,["model"])]),_:1})}}},j={__name:"Login",setup(r){const p=g("login"),u=L();return N(()=>{c().user.isLogined().then(o=>{o&&(c().reset(),u.push({name:"Kanban"}))})}),(o,i)=>{const m=a("el-image"),_=a("el-row"),n=a("el-tab-pane"),d=a("el-tabs"),t=a("el-col");return w(),v(_,{justify:"center",style:{"align-content":"center",height:"100%"}},{default:l(()=>[e(t,{xs:18,sm:12,md:8,lg:6,xl:4},{default:l(()=>[e(_,{justify:"center",style:{"margin-bottom":"1rem"}},{default:l(()=>[e(m,{src:R(x)},null,8,["src"])]),_:1}),e(d,{modelValue:p.value,"onUpdate:modelValue":i[0]||(i[0]=f=>p.value=f),stretch:""},{default:l(()=>[e(n,{label:"Login",name:"login"},{default:l(()=>[e(y,{isLogin:!0})]),_:1}),e(n,{label:"Register",name:"register"},{default:l(()=>[e(y,{isLogin:!1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})}}};export{j as default};
